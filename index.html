<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moaz Elsawy | Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
    * { margin:0; padding:0; box-sizing:border-box; font-family:"Cairo",sans-serif; }
    body { background:#f4f8ff; color:#222; }
    .btn { display:inline-block; text-align:center; text-decoration:none; border:none; cursor:pointer; padding:8px 14px; border-radius:8px; transition:0.3s; }
    .header { background:linear-gradient(90deg,#0a74da,#0066cc); color:white; display:flex; justify-content:space-between; align-items:center; padding:15px 40px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    .header .logo { font-weight:700; font-size:20px; }
    .header nav a { color:white; text-decoration:none; margin-left:20px; font-weight:500; }
    .header nav a.btn, .header .btn { background:#f5b800; color:#000 !important; }
    .header nav a.btn:hover, .header .btn:hover { background:#ffcc33; }

    /* Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± */
    .slider-section { padding:40px 0; overflow:hidden; }
    .slider-wrapper { display:flex; gap:20px; padding:20px 0; transition: transform 0.4s ease; cursor: grab; }
    .slider-wrapper.active { cursor: grabbing; }
    .slide-item { flex:0 0 250px; border-radius:12px; overflow:hidden; position:relative; transition: transform 0.3s, opacity 0.3s; opacity:0.6; }
    .slide-item.active { flex:0 0 320px; opacity:1; transform:scale(1.05); z-index:10; }
    .slide-item img { width:100%; display:block; }
    .slide-item .caption { position:absolute; bottom:10px; right:10px; background:rgba(0,0,0,0.6); color:#fff; padding:5px 10px; border-radius:5px; font-size:16px; text-align:right; }

    /* Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª */
    .properties { padding:60px 20px; text-align:center; }
    .properties h2 { color:#0a74da; margin-bottom:20px; font-size:28px; }
    .property-list { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px; padding:20px; }
    .property-card { background:white; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); overflow:hidden; transition:0.3s; cursor:pointer; }
    .property-card:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.15); }
    .property-card img { width:100%; height:180px; object-fit:cover; }
    .property-info { padding:15px; text-align:right; }
    .property-info h3 { color:#333; font-size:18px; }
    .property-info p { color:#666; font-size:14px; margin:5px 0; }
    .property-info span { display:inline-block; color:#f5b800; font-weight:bold; margin-top:5px; }

    /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    .modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.7); }
    .modal-content { background-color:#fefefe; margin:5% auto; padding:25px; border-radius:12px; width:90%; max-width:700px; position:relative; animation:slideIn 0.3s; }
    @keyframes slideIn { from { top:-300px; opacity:0; } to { top:0; opacity:1; } }
    .close-button { color:#aaa; float:left; font-size:32px; font-weight:bold; cursor:pointer; line-height:1; }
    .close-button:hover, .close-button:focus { color:#000; text-decoration:none; }
    #modalDetails img { width:100%; max-height:400px; object-fit:cover; border-radius:8px; margin-bottom:20px; }
    #modalDetails h2 { color:#0a74da; margin-bottom:15px; }
    #modalDetails p { margin:10px 0; font-size:16px; border-bottom:1px dashed #eee; padding-bottom:5px; }
    #modalDetails p strong { color:#333; font-weight:700; }
    .whatsapp-btn { display:block; width:100%; margin-top:30px; background:#25d366 !important; color:white !important; padding:15px 0; text-align:center; font-size:18px; text-decoration:none; font-weight:bold; border-radius:8px; }
    .whatsapp-btn:hover { background:#128c7e !important; }

    /* ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ */
    .contact { background:#fff; padding:50px 20px; text-align:center; }
    .contact h2 { color:#0a74da; margin-bottom:20px; }
    .contact form { display:flex; flex-direction:column; align-items:center; gap:10px; width:90%; max-width:400px; margin:auto; }
    .contact input, .contact textarea { width:100%; padding:10px; border:1px solid #ccc; border-radius:6px; }
    .contact button { background:#f5b800; border:none; padding:10px 20px; border-radius:6px; cursor:pointer; font-weight:600; }
    .contact button:hover { background:#ffcc33; }

    footer { background:#0a74da; color:white; text-align:center; padding:15px; margin-top:40px; }
    @media(max-width:768px){ .header{ flex-direction:column; align-items:flex-start; padding:15px 20px; } .header nav{ margin-top:10px; display:flex; flex-wrap:wrap; } .header nav a{ margin:5px 10px 5px 0; } .slider-section, .slide-item { height:300px; } }
  </style>
</head>
<body>
  <header class="header">
    <div class="logo">ğŸ  Moaz Elsawy</div>
    <nav>
      <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="#properties">Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</a>
      <a href="#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
      <a href="login.html" class="btn" id="loginBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
    </nav>
  </header>

  <!-- Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± -->
  <section class="slider-section">
    <div class="slider-wrapper" id="propertySlider"></div>
  </section>

  <!-- Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª -->
  <section id="properties" class="properties">
    <h2>Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
    <div id="property-list" class="property-list"></div>
  </section>

  <!-- ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ -->
  <section id="contact" class="contact">
    <h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
    <form id="contactForm">
      <input type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required />
      <input type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required />
      <textarea placeholder="Ø±Ø³Ø§Ù„ØªÙƒ..." required></textarea>
      <button type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
    </form>
  </section>

  <!-- Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ -->
  <div id="propertyModal" class="modal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <div id="modalDetails">
        <img id="modalImg" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±">
        <h2 id="modalTitle"></h2>
        <p><strong>Ø§Ù„Ø³Ø¹Ø±:</strong> <span id="modalPriceDetail"></span></p>
        <p><strong>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</strong> <span id="modalCity"></span></p>
        <p><strong>Ø§Ù„Ù†ÙˆØ¹:</strong> <span id="modalType"></span></p>
        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù:</strong> <span id="modalRooms"></span></p>
        <p><strong>Ø§Ù„ÙˆØµÙ:</strong> <span id="modalDesc"></span></p>
        <a id="whatsappLink" href="#" target="_blank" class="btn whatsapp-btn">ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</a>
      </div>
    </div>
  </div>

  <script>
    const ADMIN_EMAIL = 'admin@moazelsawy.com';
    const SELLER_PHONE = '+201115134784';
    let currentIndex = 0;
    const sliderWrapper = document.getElementById('propertySlider');
    let ALL_PROPERTIES = [
      {id:1,title:"Ø´Ù‚Ø© ÙØ§Ø®Ø±Ø© Ù„Ù„Ø¨ÙŠØ¹",city:"Ø§Ù„ØªØ¬Ù…Ø¹ Ø§Ù„Ø®Ø§Ù…Ø³",price:"2,000,000 Ø¬Ù†ÙŠÙ‡",img:"https://picsum.photos/400/250?random=11"},
      {id:2,title:"ÙÙŠÙ„Ø§ Ù…Ø³ØªÙ‚Ù„Ø© Ø¨Ù…Ø³Ø§Ø­Ø© 400Ù…",city:"Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯",price:"6,500,000 Ø¬Ù†ÙŠÙ‡",img:"https://picsum.photos/400/250?random=12"},
      {id:3,title:"Ø´Ù‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø­Ø± Ù…Ø¨Ø§Ø´Ø±Ø©",city:"Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©",price:"3,200,000 Ø¬Ù†ÙŠÙ‡",img:"https://picsum.photos/400/250?random=13"},
      {id:4,title:"Ø´Ù‚Ø© Ù…ÙØ±ÙˆØ´Ø© Ù„Ù„Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ø´Ù‡Ø±ÙŠ",city:"Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±",price:"15,000 Ø¬Ù†ÙŠÙ‡ / Ø´Ù‡Ø±",img:"https://picsum.photos/400/250?random=14"},
    ];

    const listContainer = document.getElementById("property-list");
    function displayProperties(properties){
      listContainer.innerHTML = '';
      properties.forEach(prop=>{
        const card=document.createElement('div');
        card.className='property-card';
        card.dataset.id=prop.id;
        card.innerHTML=`<img src="${prop.img}" alt="${prop.title}"><div class="property-info"><h3>${prop.title}</h3><p><strong>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</strong> ${prop.city}</p><span>${prop.price}</span></div>`;
        listContainer.appendChild(card);
        card.addEventListener('click',()=> openModal(prop.id));
      });
    }

    // Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
    function openModal(id){
      const prop = ALL_PROPERTIES.find(p=>p.id==id);
      if(!prop) return;
      document.getElementById('modalImg').src=prop.img;
      document.getElementById('modalTitle').textContent=prop.title;
      document.getElementById('modalPriceDetail').textContent=prop.price;
      document.getElementById('modalCity').textContent=prop.city;
      document.getElementById('modalType').textContent=prop.type||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
      document.getElementById('modalRooms').textContent=prop.rooms||'ØŸ';
      document.getElementById('modalDesc').textContent=prop.desc||'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ';
      const message=`Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£ÙˆØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±: ${prop.title}ØŒ ÙÙŠ Ù…Ø¯ÙŠÙ†Ø©: ${prop.city}. Ø³Ø¹Ø±Ù‡: ${prop.price}. Ù‡Ù„ Ù‡Ùˆ Ù…ØªØ§Ø­ØŸ`;
      document.getElementById('whatsappLink').href=`https://wa.me/${SELLER_PHONE}?text=${encodeURIComponent(message)}`;
      document.getElementById('propertyModal').style.display='block';
    }

    document.querySelector('.close-button').onclick = ()=>{ document.getElementById('propertyModal').style.display='none'; }
    window.onclick = e=>{ if(e.target==document.getElementById('propertyModal')) document.getElementById('propertyModal').style.display='none'; }

    // Ø³Ù„Ø§ÙŠØ¯Ø±
    function initSlider(){
      sliderWrapper.innerHTML='';
      ALL_PROPERTIES.forEach((prop,index)=>{
        const slide=document.createElement('div');
        slide.className='slide-item';
        if(index==0) slide.classList.add('active');
        slide.innerHTML=`<img src="${prop.img}" alt="${prop.title}"><div class="caption">${prop.title}</div>`;
        slide.addEventListener('click',()=>openModal(prop.id));
        sliderWrapper.appendChild(slide);
      });
      updateSliderPosition();
    }

    function updateSliderPosition(){
      const slides=document.querySelectorAll('.slide-item');
      slides.forEach(s=>s.classList.remove('active'));
      slides[currentIndex].classList.add('active');
      const offset=-currentIndex*(slides[currentIndex].offsetWidth+20);
      sliderWrapper.style.transform=`translateX(${offset}px)`;
    }

    function nextSlide(){ currentIndex=(currentIndex+1)%ALL_PROPERTIES.length; updateSliderPosition(); }
    function prevSlide(){ currentIndex=(currentIndex-1+ALL_PROPERTIES.length)%ALL_PROPERTIES.length; updateSliderPosition(); }

    // Drag
    let isDragging=false,startPos=0;
    sliderWrapper.addEventListener('mousedown',e=>{isDragging=true; startPos=e.pageX; sliderWrapper.classList.add('active');});
    sliderWrapper.addEventListener('mouseup',e=>{isDragging=false; sliderWrapper.classList.remove('active'); const diff=e.pageX-startPos; if(diff<-50) nextSlide(); else if(diff>50) prevSlide(); else updateSliderPosition();});
    sliderWrapper.addEventListener('mouseleave',()=>{if(isDragging){isDragging=false; sliderWrapper.classList.remove('active'); updateSliderPosition();}});
    sliderWrapper.addEventListener('mousemove',e=>{if(!isDragging) return; const diff=e.pageX-startPos; sliderWrapper.style.transform=`translateX(${ -currentIndex*(sliderWrapper.children[currentIndex].offsetWidth+20) + diff }px)`;});

    // Touch
    sliderWrapper.addEventListener('touchstart',e=>{isDragging=true; startPos=e.touches[0].clientX; sliderWrapper.classList.add('active');});
    sliderWrapper.addEventListener('touchend',e=>{isDragging=false; sliderWrapper.classList.remove('active'); const diff=e.changedTouches[0].clientX-startPos; if(diff<-50) nextSlide(); else if(diff>50) prevSlide(); else updateSliderPosition();});
    sliderWrapper.addEventListener('touchmove',e=>{if(!isDragging) return; const diff=e.touches[0].clientX-startPos; sliderWrapper.style.transform=`translateX(${ -currentIndex*(sliderWrapper.children[currentIndex].offsetWidth+20) + diff }px)`;});

    setInterval(nextSlide,3000);

    // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ / Ø®Ø±ÙˆØ¬
    const loginBtn=document.getElementById('loginBtn');
    const user=JSON.parse(localStorage.getItem('realestate_user')||'{}');
    if(user.is_admin && user.email===ADMIN_EMAIL){ loginBtn.textContent='Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†'; loginBtn.href='admin.html'; }
    else if(user.email){ loginBtn.textContent='ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬'; loginBtn.href='#'; loginBtn.onclick=e=>{e.preventDefault(); localStorage.removeItem('realestate_user'); location.reload(); } }

    document.getElementById('contactForm').addEventListener('submit',e=>{ e.preventDefault(); alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ âœ…'); e.target.reset(); });

    displayProperties(ALL_PROPERTIES);
    initSlider();
  </script>
</body>
</html>
